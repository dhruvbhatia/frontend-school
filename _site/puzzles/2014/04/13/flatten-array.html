<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Flatten Array</title>

  <!-- syntax highlighting CSS -->
  <link rel="stylesheet" href="/css/syntax.css">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/assets/css/app.min.css">

</head>
<body>

  <div class="header">

    <nav class="top-bar" data-topbar>
      <ul class="title-area">
        <li class="name">
          <h1><a href="">Frontend School</a></h1>
        </li>
        <li class="toggle-topbar menu-icon"><a href="#">Menu</a></li>
      </ul>

      <section class="top-bar-section">
        <!-- Right Nav Section -->
        <ul class="right">
          <li class="active"><a href="#">Right Button Active</a></li>
          <li class="has-dropdown">
            <a href="#">Right Button Dropdown</a>
            <ul class="dropdown">
              <li><a href="#">First link in dropdown</a></li>
            </ul>
          </li>
        </ul>

        <!-- Left Nav Section -->
        <ul class="left">
          <li><a href="#">Left Nav Button</a></li>
        </ul>
      </section>
    </nav>

  </div>


  <div class="content">
    <div class="row">

      <h1>Flatten Array</h1>
<p class="meta">13 Apr 2014</p>


<div class="tags">

<a href="/tags.html#JavaScript"><span class="tag">JavaScript</span></a>

<a href="/tags.html#Algorithm"><span class="tag">Algorithm</span></a>

<a href="/tags.html#Utility"><span class="tag">Utility</span></a>

</div>

<p class="meta">beginner</p>

<div class="post">
<h2 id="puzzle">Puzzle</h2>
<blockquote>
  <p>In JavaScript, write a function <strong><code>array_flatten</code></strong> that takes an <code>Array</code> as input and return a flattened <code>Array</code> of all elements as output.</p>
</blockquote>

<h2 id="examples">Examples</h2>
<pre><code class="language-javascript">// input array to flatten
&gt; var input = [1, [2, 3, [4]], {a: 5}, ["John", [{b: ["test"]}]]];
&gt; array_flatten(input);

// output
[1, 2, 3, 4, {a: 5}, "John", {b: ["test"]}];
</code></pre>

<h2 id="solution">Solution</h2>

<h3 id="how-it-works">How It Works</h3>
<p>This solution uses recursion to complete the following steps:</p>

<ol>
  <li>Create an empty <code>output</code> array to return.</li>
  <li>Loop through the <code>input</code> array elements.</li>
  <li>Check the type of the current <code>element</code> in the loop.
    <ul>
      <li>If not an array <code>→</code> Add element to <code>output</code>.</li>
      <li>If an array <code>→</code>
        <ul>
          <li>Recursively pass element to self to get <code>recursive_output</code>.</li>
          <li>Loop through <code>recursive_output</code> elements and add each to <code>output</code>.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Return <code>output</code>.</li>
</ol>

<h3 id="code">Code</h3>
<pre><code class="language-javascript">/**
*
* Flattens an array
*
* @param {array} Input array
* @return {array} Flattened array
*
**/
function array_flatten(input) {

  // the output array we will return
  var output = [];
  
  // iterate over input
  for(var i = 0; i &lt; input.length; i++) {
    
    // check if element is an array or not
    if(!Array.isArray(input[i])) {

      // element is not an array - push to output array
      output.push(input[i]);

    } else {

      // element is an array - call array_flattten on element recursively
      var recursive_output = array_flatten(input[i]);
      
      for(var o = 0; o &lt; recursive_output.length; o++) {
        
        output.push(recursive_output[o]);
        
      };
      
    };
    
  };
  
  // return flattened array
  return output;
  
};
</code></pre>

<h2 id="libraries">Libraries</h2>
<p>The following libraries have functions that perform this function:</p>

<ul>
  <li><a href="http://lodash.com/docs#flatten">Lo-Dash’s flatten function</a> - <code>_.flatten</code> flattens a nested array. In addition you can choose to only flatten the first level or pass elements to a callback before flattening.</li>
</ul>


</div>


    </div>

  </div>

  <div id="footer">

    <div class="row">
      Frontend School
    </div>

  </div>

  <script type="text/javascript" src="/assets/js/app.min.js"></script>

</body>

</html>
